// Auto generated by Chef
KafkaServer {
  com.sun.security.auth.module.Krb5LoginModule required
<% node["confluent"]["kerberos"]["krb5_properties"].each do |key, value| -%>
  <%= key %>=<%= (value.to_s == 'true' || value.to_s == 'false') ? value : "\"#{value}\"" %>
<% end -%>
  keyTab="<%= node["confluent"]["kerberos"]["keytab"] %>"
  principal="<%= node["confluent"]["kerberos"]["principal"] %>";
};

KafkaClient {
  com.sun.security.auth.module.Krb5LoginModule required
<% node["confluent"]["kerberos"]["krb5_properties"].each do |key, value| -%>
  <%= key %>=<%= (value.to_s == 'true' || value.to_s == 'false') ? value : "\"#{value}\"" %>
<% end -%>
  keyTab="<%= node["confluent"]["kerberos"]["keytab"] %>"
  principal="<%= node["confluent"]["kerberos"]["principal"] %>";
};

<% if node["confluent"]["kerberos"]["enable_zk"] %>
// If you need Zookeeper
Client {
  com.sun.security.auth.module.Krb5LoginModule required
<% node["confluent"]["kerberos"]["zk_krb5_properties"].each do |key, value| -%>
  <%= key %>=<%= (value.to_s == 'true' || value.to_s == 'false') ? value : "\"#{value}\"" %>
<% end -%>
  keyTab="<%= node["confluent"]["kerberos"]["keytab"] %>"
  principal="<%= node["confluent"]["kerberos"]["principal"] %>";
};
<% end %>
